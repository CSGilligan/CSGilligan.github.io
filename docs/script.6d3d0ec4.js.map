{"version":3,"sources":["baseball-parity/folder/script.js"],"names":["d3","csv","then","data","margin","width","height","parseTime","timeParse","yearScale","scaleLinear","domain","range","dayScale","scaleTime","extent","d","Date","date","colorScale","svg","select","append","attr","forEach","datetime","filter","deviation","tooltip","style","dates","map","yAxis","axisLeft","scale","ticks","tickFormat","format","call","xAxis","axisTop","selectAll","enter","console","log","year","on","event","html","Math","round","text"],"mappings":"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","file":"script.6d3d0ec4.js","sourceRoot":"../content","sourcesContent":["d3.csv('https://raw.githubusercontent.com/CSGilligan/baseball-parity-project/main/mlb_disparity_by_day.csv').then(function(data){\nconst margin = {top: 140, right: 40, bottom: 40, left: 40}\nconst width = 1000 - margin.left - margin.right\nconst height = 650 - margin.top - margin.bottom\nconst parseTime = d3.timeParse(\"%m/%d\")\nconst parseTime2 = d3.timeParse(\"Y\")\n   \n   const yearScale = d3.scaleLinear()\n                      .domain([1995, 2021])\n                      .range([height, 0]) \n  \n    const dayScale = d3.scaleTime()\n          .domain(d3.extent(data, function(d) { \n        return new Date(d.date); \n      }))\n          .range([0, width]) \n\n    //   var myColor = d3.scaleSequential()\n    // .interpolator(d3.interpolateInferno)\n    // .domain([22,0])\n    \nconst colorScale = d3.scaleLinear()\n  .domain([0, 4.15, 8.3, 12.45, 16.6])\n  // .range([\"#FCED8D\", \"#FF9F47\", \"#E04B25\", \"#7A0B0A\", \"#330024\"])\n  // .range([\"#FF9855\", \"#FF7C58\", \"#D95247\", \"#A3243B\", \"#54032F\"])\n  // .range([\"#B8D9C6\", \"#6AA695\", \"#347367\", \"#1C5359\", \"#193140\"])\n  // .range([\"#010B40\", \"#03658C\", \"#D97218\", \"#A60303\", \"#730202\"])\n  // .range([\"#FFFECC\", \"#FFE08B\", \"#FF9F5C\", \"#ED5030\", \"#700D23\"])\n  // .range([\"#585A80\", \"#70876A\", \"#C2A867\", \"#A64C34\", \"#A33424\"])\n  // .range([\"#FFDD7D\", \"#ACC978\", \"#66AD81\", \"#358C83\", \"#296A76\"])\n  .range([\"#142F43\", \"#4F9691\", \"#E5E294\", \"#D46A4F\", \"#A63332\"])\n\n\n   const svg = d3.select('#chart')\n                 .append('svg')\n                 .attr('width', width + margin.left + margin.right)\n                 .attr('height', height + margin.top + margin.bottom)\n                 .append('g')\n                 .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\n   \n\n   \ndata.forEach((d) => {\n\t\td.datetime = parseTime(d.date);\n  \t})  \ndata=data.filter(function(d){ return d.deviation != \"-\"})\ndata=data.filter(function(d){ return d.deviation != \"--\"})\n  \n    const tooltip = d3.select(\"#chart\")\n    .append(\"div\")\n    .style(\"opacity\", 0)\n    .attr(\"class\", \"tooltip\")\n    .style(\"background-color\", \"white\")\n    .style(\"border\", \"solid\")\n    .style(\"border-width\", \"1px\")\n    .style(\"border-radius\", \"5px\")\n    .style(\"padding\", \"5px\")\n    .style(\"font-family\", \"oxygen\")\n\n  const dates = data.map((d) => d.datetime)\n  dayScale.domain(d3.extent(dates))\n  \n  const yAxis = d3.axisLeft().scale(yearScale).ticks(35).tickFormat(d3.format(\"d\"))\n\n  \n  svg.append('g').call(yAxis)\n    .attr(\"class\", \"y_axis\")\n    .style(\"font-family\", \"oxygen\")\n    .attr(\"transform\", \"translate(0, 8)\")\n    .attr(\"font-size\", 12)\n  \n  const xAxis = d3.axisTop().scale(dayScale).ticks(10)\n\n  \n  svg.append('g').call(xAxis)    \n    .attr(\"class\", \"x_axis\")\n    .style(\"font-family\", \"oxygen\")\n    .attr(\"transform\", \"translate(0, -4)\")\n    .attr(\"font-size\", 12)\n\n   svg.selectAll('rect')\n     .data(data)\n     .enter()\n     .append('rect')\n     .attr('rx', 2)\n     .attr('ry', 2)\n     .attr('width', width/250)\n     .attr('height', 16)\n     .attr('fill', function(d) {\n        return colorScale(d.deviation)\n   })\n     .attr('y', function(d) {\n     console.log(yearScale(d.year))\n        return yearScale(d.year)\n   })\n     .attr('x', function(d) {\n        return dayScale(d.datetime)\n   })\n   .on(\"mouseover\", function(event, d) {\n    tooltip\n      .html(d.date + '/' + d.year + ': ' + Math.round(d.deviation*10)/10)\n      .style(\"opacity\", 1)\n    d3.select(this)\n      .style(\"stroke\", \"black\")\n      .style(\"opacity\", 1)\n  })\n   .on(\"mouseleave\", function(d) {\n    tooltip\n      .style(\"opacity\", 0)\n    d3.select(this)\n      .style(\"stroke\", \"none\")\n  })\n  \n  svg.append(\"text\")\n        .attr(\"x\", (width / 2))             \n        .attr(\"y\", 40 - (margin.top))\n        .attr(\"text-anchor\", \"middle\")  \n        .style(\"font-size\", \"28px\") \n        .text(\"Major League Baseball's Parity Problem\")\n        .attr(\"font-family\", \"oxygen\")\n  \n    svg.append(\"text\")\n        .attr(\"x\", 0-20)         \n        .attr(\"y\", 0-70)\n        .attr(\"text-anchor\", \"left\")  \n        .style(\"font-size\", \"14px\") \n        .text(\"At the end of the most recent complete season (2019), MLB team win totals had a standard deviation of 16.6 - 14% higher than ever before in the post-strike era.\")\n        .attr(\"font-family\", \"oxygen\")\n  \n      svg.append(\"text\")\n        .attr(\"x\", 0)         \n        .attr(\"y\", -35)\n        .attr(\"text-anchor\", \"left\")  \n        .style(\"font-size\", \"12px\") \n        .text(\"0\")\n        .attr(\"font-family\", \"oxygen\")\n  \n  svg.append(\"rect\")\n        .attr(\"x\", 16)         \n        .attr(\"y\", -46)\n        .attr('width', 22)\n        .attr('height', 12)\n        .attr('fill', '#142F43')\n  \n    svg.append(\"rect\")\n        .attr(\"x\", 38)         \n        .attr(\"y\", -46)\n        .attr('width', 22)\n        .attr('height', 12)\n        .attr('fill', '#4F9691')\n  \n    svg.append(\"rect\")\n        .attr(\"x\", 60)         \n        .attr(\"y\", -46)\n        .attr('width', 22)\n        .attr('height', 12)\n        .attr('fill', '#E5E294')\n  \n    svg.append(\"rect\")\n        .attr(\"x\", 82)         \n        .attr(\"y\", -46)\n        .attr('width', 22)\n        .attr('height', 12)\n        .attr('fill', '#D46A4F')\n  \n    svg.append(\"rect\")\n        .attr(\"x\", 104)         \n        .attr(\"y\", -46)\n        .attr('width', 22)\n        .attr('height', 12)\n        .attr('fill', '#A63332')\n\n        svg.append(\"text\")\n        .attr(\"x\", 132)         \n        .attr(\"y\", -35)\n        .attr(\"text-anchor\", \"left\")  \n        .style(\"font-size\", \"12px\") \n        .text(\"16.6 wins\")\n        .attr(\"font-family\", \"oxygen\")\n})"]}